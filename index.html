<!DOCTYPE html>
<html lang="zh">
<head>
        <meta charset="utf-8" />
        <title>Hashing Baseline for Image Retrieval(HABIR)</title>
        <link rel="stylesheet" href="./theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title" align="center">Hashing Baseline for Image Retrieval(HABIR)</h1>
					
<p align="center"><img src="./img/horse_ID8_128_1.png" alt="horse"/></p>
<p align="center"><img src="./img/horse_ID8_128_2.png" alt="horse"/></p>

<h2>HABIR哈希图像检索工具箱是什么？</h2>
HABIR哈希图像检索工具箱是一个用Matlab语言写的集成了经典哈希方法以及最近几年无监督哈希方法的基准框架，里面包含了针对图像检索的主流评价指标，使用该工具箱使得你可以专注于哈希方法的设计，其他性能评价这些方面的东西可以由它来帮你完成。

<h2>为什么会有HABIR哈希图像检索工具箱？</h2>
<p>目前我主要致力于大规模图像检索研究，在图像检索中除了专注与duplicate search外我也花很大力气在哈希大规模图像检索上。在研究的过程中，我发觉几乎很少有研究者提供不同对比方法的代码。这为研究带来了很大不便，而且我坚信在研究的过程中，我们应专注于新算法的设计，而不是新人进来时都得重新造轮子，我们可以在现有代码的基础上学习它，并将它进行拓展，为自己使用。于是，就有了你现在看到的这个[hashing-baseline-for-image-retrieval](https://github.com/willard-yuan/hashing-baseline-for-image-retrieval)，希望它能够为关注基于哈希方法进行图像检索的小伙伴们带去些许帮助。如果想深入了解哈希的话，这里总结的一篇博文对你非常的有帮助：[**Hashing图像检索源码及数据库总结**](http://yongyuan.name/blog/codes-of-hash-for-image-retrieval.html)</p>
<p align="center"><img src="./img/HASHING.png" alt="hashing"/></p>
<h2>怎样使用HABIR哈希图像检索工具箱？</h2>
1. 下载数据库。在本地计算机上，HABIR的文件目录结构如下图所示：
<p align="center"><img src="https://github.com/willard-yuan/hashing-baseline-for-image-retrieval/blob/master/doc/downfiles.png" alt="precision-recall-64bits"/></p>
<p align="center">图1 工具包目录</p>
<p align="center"><img src="https://github.com/willard-yuan/hashing-baseline-for-image-retrieval/blob/master/doc/CIFAR-10.png" alt="precision-recall-64bits"/></p>
<p align="center">图2 CIFAR-10图像数据库目录</p>

<p>可以看到这四个特征文件比较大，这4个文件可以到下面给出的链接中下载，下载完请按图1目录放置。</p>

cnn\_1024d\_Caltech-256下载地址：[cnn_1024d_Caltech-256.mat](http://pan.baidu.com/s/1o67k5RG)</br>
gist\_512d\_Caltech-256下载地址：[gist_512d_Caltech-256.mat](http://pan.baidu.com/s/1jG8ECZW)</br>
cnn\_4096d\_Caltech-256下载地址：[cnn_4096d_Caltech-256.mat](http://pan.baidu.com/s/1eQIWkro)</br>
gist\_320d\_CIFAR-10\_yunchao下载地址：[gist_320d_CIFAR-10_yunchao.mat](http://pan.baidu.com/s/1o61KSQI)</br>

<p>另外一个比较大的文件是[CIFAR-10](http://www.cs.toronto.edu/~kriz/cifar.html)数据库，这个图像数据库请到官网下载对应的Matlab版，解压后按图2放置。</p>

<p>**Note**:对于CNN特征的提取，可以使用我写的一个采用VGG训练已模型提取CNN特征的代码，[CNN-for-Image-Retrieval](https://github.com/willard-yuan/CNN-for-Image-Retrieval)。</p>

<h2>哈希方法</h2>
<ul>
<li>
<p><strong>PCA-ITQ</strong>,<strong>PCA-RR</strong>: Iterative Quantization. 作者建立的项目详细信息请移步这里：<a href="http://www.unc.edu/~yunchao/itq.htm">ITQ</a>。</p>
<blockquote>
<p>Yunchao Gong and Svetlana Lazebnik.  Iterative Quantization: A Procrustean Approach to Learning Binary Codes. In: IEEE International Conference on Computer Vision and Pattern Recognition (CVPR), 2011.</p>
</blockquote>
</li>
<li>
<p><strong>SH</strong>: Spectral Hashing. 作者建立的项目详细信息请移步这里：<a href="http://www.cs.huji.ac.il/~yweiss/SpectralHashing/">SH</a>。</p>
<blockquote>
<p>Y. Weiss, A. Torralba, R. Fergus. Advances in Neural Information Processing Systems, 2008.</p>
</blockquote>
</li>
<li>
<p><strong>SpH</strong>: Spherical Hashing. 作者建立的项目详细信息请移步这里：<a href="http://sglab.kaist.ac.kr/Spherical_Hashing/">SpH</a>。</p>
<blockquote>
<p>Jae-Pil Heo, Youngwoon Lee, Junfeng He, Shih-Fu Chang, and Sung-eui Yoon. Spherical Hashing. CVPR, 2012.</p>
</blockquote>
</li>
<li>
<p><strong>LSH</strong>: Local Sensentive Hashing. Implemented by me.</p>
</li>
<li>
<p><strong>SKLSH</strong>: Maxim Raginsky and Svetlana Lazebnik. </p>
<blockquote>
<p>Locality-sensitive binary codes from shift-invariant kernels. Advances in Neural Information Processing 22, pp. 1509-1517, 2009.</p>
</blockquote>
</li>
<li>
<p><strong>PCAH</strong>: PCA Hashing. Implemented by me.</p>
</li>
<li><strong>DSH</strong>: Density Sensitive Hashing. 项目主页请移步这里：<a href="http://www.cad.zju.edu.cn/home/dengcai/Data/DSH.html">DSH</a>.</li>
</ul>
<p>注意：截止此刻，所有入选进行的哈希方法都是无监督的</p>
<h2>数据库说明</h2>
<p>数据库<code>cifar_10yunchao.mat</code>是来自<a href="http://www.unc.edu/~yunchao/">Yunchao Gong</a>在<a href="http://www.cs.toronto.edu/~kriz/cifar.html">CIFAR10</a>提取的320维GIST特征，第321维是图像的类别标签</p>
<h2>待做事项</h2>
<p><ul>
<li>完善文档</li>
<li>绘制recall vs. the number of top retrieved samples曲线</li>
<li>再添加一个数据库</li></p>
</ul>
<h2>运行环境</h2>
<p><ul>
<li>64位系统（主要是图像数据库比较大，Windows或Linux都可以）</li>
<li>16g内存（我电脑是16g的，8g的应该也行）</li>
</ul></p>
<h2>评价指标</h2>
<p>在64位编码下，查准率与召回率曲线如下：</p>
<p align="center"><img src="./img/PR-64bits.png" alt="precision-recall-64bits"/></p>

<p>在8位编码下,召回率与返回样本数曲线如下：</p>
<p align="center"><img src="./img/R-8bits.png" alt="recall-8bits"/></p>

<p>平均检索精度MAP随bits长度的变化</p>
<p align="center"><img src="./img/MAP.png" alt="map-numbers-of-bits"/></p>

<h2>检索实例</h2>
<p >在对结果进行可视化时，先将CIFAR10数据库下载下来(下载地址见底下链接)，本页顶部所示的是用不同的编码方法对“马”，下面展示更多的检索结果：</p>
<p align="center"><img src="./img/car_ID13_128_1.png" alt="horse"/></p>
<p align="center"><img src="./img/car_ID13_128_2.png" alt="horse"/></p>

<h2>版本更新</h2>
<p><ul>
<li>V1.5   2014/10/20<ul>
<li>添加召回率随检索返回样本数对比指标</li>
<li>添加归一化数据样本函数</li>
</ul>
</li>
<li>V1.5   2014/09/28<ul>
<li>增加不同结果进行检索时的可视化结果</li>
</ul>
</li>
<li>V1.4   2014/09/22<ul>
<li>修复画MAP曲线的错误，重新以Gong Yunchao所用的计算曲线面积的方法画MAP曲线</li>
<li>将原来画曲线时只运行一次改为运行多次（10次，程序中可以自己修改设定），对10次的MAP取平均，之所以这样做是因为不同的方法中用到了随机函数，通过运行多次减少每次运行结果的差异</li>
</ul>
</li>
<li>V1.3   2014/08/21<ul>
<li>完成MAP随bits长度的曲线，添加进来SpH和DSH</li>
<li>完善绘制的图，使画出的图更美观</li>
<li>优化框架结构，使布局更有层次</li>
</ul>
</li>
<li>V1.2   成型版本: 2014/08/19</li>
<li>V1.1   初始版本: 2013/09/26</li>
<li>V1.0   原型版本: 2013/07/22</li>
</ul></p>

<h2>加入进来</h2>
<p>如果你觉得这个对你有用，想加入进来的话，可以先clone过去，然后再Pull Requests.</p>                
<h2>致谢</h2>
<p>本项目是在ITQ的基础上进行拓展的，感谢<a href="http://www.unc.edu/~yunchao/">Yunchao Gong.</a></p> 
</article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>Link</h2>
                        <ul>
                            <li><a href="http://www.cs.toronto.edu/~kriz/cifar.html">CIFAR10</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://yongyuan.name/">Yong Yuan</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->
</body>

<a href="https://github.com/willard-yuan/hashing-baseline-for-image-retrieval"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="下载源码" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55161042-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
